–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∑–∞–¥–∞—á—É:

> –ï—Å—Ç—å –º–∞—Å—Å–∏–≤ `a`, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –Ω—É–ª—è–º–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –¥–≤–∞ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–æ–≤:
>
> 1. **–ü—Ä–∏—Å–≤–æ–∏—Ç—å `a[i] = 1`**.
> 2. \*\*–ù–∞–π—Ç–∏ —á–∏—Å–ª–æ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã—Ö –æ—Ç—Ä–µ–∑–∫–æ–≤ –∏–∑ –µ–¥–∏–Ω–∏—Ü** –≤ –º–∞—Å—Å–∏–≤–µ `a`.

---

## üß† –ò–¥–µ—è —Ä–µ—à–µ–Ω–∏—è:

–ö–∞–∂–¥—ã–π –æ—Ç—Ä–µ–∑–æ–∫ –∏–∑ –µ–¥–∏–Ω–∏—Ü ‚Äî —ç—Ç–æ **–ø–æ–¥–º–∞—Å—Å–∏–≤**, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–≤–Ω—ã 1, –∏ –æ–Ω **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω** –ª–∏–±–æ:

* –Ω–∞—á–∞–ª–æ–º –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –Ω—É–ª—ë–º —Å–ª–µ–≤–∞,
* –∫–æ–Ω—Ü–æ–º –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –Ω—É–ª—ë–º —Å–ø—Ä–∞–≤–∞.

–ü—Ä–∏–º–µ—Ä:

```
a = [0, 1, 1, 0, 1, 0, 1, 1, 1]
      ‚Üë     ‚Üë     ‚Üë
=> –¢—Ä–∏ –æ—Ç—Ä–µ–∑–∫–∞ –∏–∑ –µ–¥–∏–Ω–∏—Ü
```

---

## üîß –ö–∞–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—Ç—Ä–µ–∑–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ:

–ú—ã –º–æ–∂–µ–º:

1. –•—Ä–∞–Ω–∏—Ç—å —Å–∞–º –º–∞—Å—Å–∏–≤ `a` (–º–∞—Å—Å–∏–≤ `int[] a`).
2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `segmentCount`, –≤ –∫–æ—Ç–æ—Ä–æ–π –º—ã –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å —á–∏—Å–ª–æ –æ—Ç—Ä–µ–∑–∫–æ–≤ –∏–∑ –µ–¥–∏–Ω–∏—Ü.

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ `a[i] = 1`:

* –ï—Å–ª–∏ `a[i] == 1`, –∑–Ω–∞—á–∏—Ç, –º—ã —É–∂–µ –æ–±–Ω–æ–≤–∏–ª–∏ —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º.
* –ò–Ω–∞—á–µ:

    * –ï—Å–ª–∏ —Å–æ—Å–µ–¥–∏ `a[i-1]` –∏ `a[i+1]` —Ä–∞–≤–Ω—ã 0 ‚Üí –ø–æ—è–≤–∏–ª—Å—è **–Ω–æ–≤—ã–π –æ—Ç—Ä–µ–∑–æ–∫** ‚Üí `segmentCount++`.
    * –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —Å–æ—Å–µ–¥–µ–π ‚Äî 1, –∑–Ω–∞—á–∏—Ç `a[i]` **–ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –æ—Ç—Ä–µ–∑–∫—É** ‚Üí `segmentCount` **–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è**.
    * –ï—Å–ª–∏ –æ–±–∞ —Å–æ—Å–µ–¥–∞ ‚Äî 1 ‚Üí `a[i]` —Å–æ–µ–¥–∏–Ω—è–µ—Ç –¥–≤–∞ –æ—Ç—Ä–µ–∑–∫–∞ ‚Üí `segmentCount--`.

---

## ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Java:

```java
import java.util.Scanner;

public class BinarySegments {
    static int[] a;
    static int n;
    static int segmentCount = 0;

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        n = sc.nextInt(); // –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞
        int q = sc.nextInt(); // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
        a = new int[n];

        for (int i = 0; i < q; i++) {
            String command = sc.next();

            if (command.equals("SET")) {
                int idx = sc.nextInt(); // –∏–Ω–¥–µ–∫—Å (0-based)
                setToOne(idx);
            } else if (command.equals("COUNT")) {
                System.out.println(segmentCount);
            }
        }
    }

    static void setToOne(int i) {
        if (a[i] == 1) return;

        boolean left = (i > 0) && a[i - 1] == 1;
        boolean right = (i < n - 1) && a[i + 1] == 1;

        if (!left && !right) {
            segmentCount++; // –Ω–æ–≤—ã–π –æ—Ç—Ä–µ–∑–æ–∫
        } else if (left && right) {
            segmentCount--; // —Å–ª–∏—è–Ω–∏–µ –¥–≤—É—Ö –æ—Ç—Ä–µ–∑–∫–æ–≤
        }
        // –µ—Å–ª–∏ –æ–¥–∏–Ω —Å–æ—Å–µ–¥ ‚Äî 1, —Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ–º

        a[i] = 1;
    }
}
```

---

## üß™ –ü—Ä–∏–º–µ—Ä –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```
9 8
SET 1
COUNT
SET 2
COUNT
SET 4
COUNT
SET 6
SET 7
SET 8
COUNT
```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:

```
1
1
2
2
```

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:

* –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ **O(1)** –Ω–∞ –∑–∞–ø—Ä–æ—Å, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –ø—Ä–æ—Å—Ç–æ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–æ—Å–µ–¥–µ–π.
* –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–ª—è **–æ–Ω–ª–∞–π–Ω**, —Ç–∞–∫ –∏ –¥–ª—è **–æ—Ñ–ª–∞–π–Ω** –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –æ—Ç 1 (–∞ –Ω–µ –æ—Ç 0), –∏–ª–∏ —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å—ë –∏–∑ —Ñ–∞–π–ª–∞?
