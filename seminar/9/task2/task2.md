Есть массив a из n целых чисел. Нужно обрабатывать запросы за Oplog nq:
(a) присвоить значение x всем элементам отрезка
изменить элементы отрезка ai “ ´ai
найти сумму на отрезке
(b) присвоить значение x всем элементам отрезка
изменить элементы отрезка ai “ ´ai
найти максимум на отрезке
(c) присвоить значение x всем элементам отрезка
прибавить x ко всем элементам отрезка
найти значение элемента
(d) присвоить значение x всем элементам отрезка
прибавить x ко всем элементам отрезка
найти сумму на отрезке



Описание кода:
SegmentTree - класс, реализующий сегментное дерево с поддержкой ленивых обновлений.
push - метод, который применяет отложенные обновления к узлу.
updateSet - метод для установки значения x для всех элементов в заданном диапазоне.
updateInvert - метод для инверсии значений в заданном диапазоне.
querySum - метод для подсчета суммы элементов в заданном диапазоне.
queryMax - метод для нахождения максимума в заданном диапазоне.
queryElement - метод для получения значения элемента по индексу.